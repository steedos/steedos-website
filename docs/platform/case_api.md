---
title: 华炎魔方与用友财务系统的接口实例
sidebar_label: 系统接口实例
hide_table_of_contents: false
background: /img/banner/clouds-large-desktop.png
keywords:
  - 低代码
  - 低代码开发平台
  - 开源低代码开发平台
  - 快速开发平台
  - 快速开发工具
  - 合同
  - 合同管理
---

某集团合同管理系统，打通了与用友NC财务系统间的接口交互，以华炎魔方的系统接口为基础，构建数据交换平台，实现合同管理系统与用友财务系统之间的实时数据互通，满足客户对于业务系统集成的迫切需求。

## 整体流程与系统对接

基于华炎魔方的合同管理系统与用友NC财务系统之间的整理流程如下图：

![合同接口](/assets/contract_nc.png)

通过系统交互接口的实时相互调用，实现准确及时的数据交互，有效地改变了企业信息分布相对散乱的现状。

- 合同执行过程中生成相应财务单据（例如应收单、应付单、付款单等），一键发送给财务系统进行财务处理。
- 可以随时读取到合同单据在财务系统里的最新处理进展。例如，付款单的付款手续是停留在财务审核阶段还是已经到达出纳待支付阶段。
- 可以实时接收财务系统推送过来的财务单据（如收款单），同步为对应合同的实际收款记录，并更新合同台账信息。

## 系统接口举例

以“申请付款”为例，处理过程如下。

![申请付款置](/assets/paybill_async.png)

在合同管理系统中，付款记录由经办人在台账中进行填写。数据填写并完成“关联发票”操作后，可以点击“申请付款”按钮，通过接口将付款记录数据和发票附件传入用友系统，进入用友系统内部的付款审批流程。

## 合同系统调用财务系统接口

在合同管理系统中发起请求，来调用NC财务系统接口，用于：

 - 将合同管理系统中的单据（在新增/修改/删除时）发送给NC财务系统，以便在NC财务系统继续执行单据的后续操作，包括应收单、应付单、付款单等。

 - 查询NC财务系统中关于单据的进度状态、处理环节，以便在合同管理系统中直接显示给用户，包括应收单、应付单、付款单等。

 - 得到NC财务系统中关于单据的详细信息，以便在合同管理系统中实现单据的格式打印，包括应收单、应付单、付款单等。

 - 得到NC财务系统的基础数据信息，以便实现两个系统中的数据同步，例如经办部门、业务分类、银行类别等。

<div style={{textAlign:'center'}}>

|  | 接口名称 | 接口方式 | NC单据名 | 合同系统对象名 |
| --- | --- | --- | --- | --- |
| 1 | 应收单-新增、修改 | WebService | 应收单 | 应收记录 |
| 2 | 应收单-删除 | WebService | 应收单 | 应收记录 |
| 3 | 应收单-查询 | WebService | 应收单 | 应收记录 |
| 4 | 应收单-打印 | 直连数据库视图 | 应收单 | 应收记录 |
| 5 | 应付单-新增、修改 | WebService | 应付单 | 应付记录 |
| 6 | 应付单-删除 | WebService | 应付单 | 应付记录 |
| 7 | 应付单-查询 | WebService | 应付单 | 应付记录 |
| 8 | 应付单-打印 | 直连数据库视图 | 应付单 | 应付记录 |
| 9 | 付款单-新增、修改 | WebService | 付款单 | 付款记录 |
| 10 | 付款单-删除 | WebService | 付款单 | 付款记录 |
| 11 | 付款单-查询 | WebService | 付款单 | 付款记录 |
| 12 | 付款单-打印 | 直连数据库视图 | 付款单 | 付款记录 |
| 13 | 附件-上传 | WebService | 附件 | 附件 |
| 14 | 附件-删除 | WebService | 附件 | 附件 |
| 15 | 部门-同步 | 直连数据库视图 | 部门 | 经办部门 |
| 16 | 业务分类-同步 | 直连数据库视图 | 业务分类 | 业务分类 |
| 17 | 银行档案-同步 | 直连数据库视图 | 银行档案 | 银行 |
| 18 | 银行类别-同步 | 直连数据库视图 | 银行类别 | 银行类别 |

</div>

## 财务系统调用合同系统接口

在用友NC财务系统中发起请求，来调用合同系统接口，用于：

 - 从财务系统单点登陆到合同系统、查询合同信息，以便财务/领导在财权审批或其他处理时，能直接联查到相关的合同信息，包括审批单、附件及其他信息等。

 - 财务系统中有新的收款单时，推送给合同系统，以保证合同信息的完整和准确。

 - 财务系统中的付款单，付款状态发生变化时，更新合同系统，以保证合同信息的完整和准确。

 - 得到合同系统的客商信息，以便实现两个系统中的数据同步，例如签约对象、签约对象银行账户等。

<div style={{textAlign:'center'}}>

|  | 接口名称 | 接口方式 | 合同系统对象名 | NC单据名 |
|--- | --- | --- | ---| ---|
| 1 | 单点登录 | JWT |  |  |
| 2 | 合同信息-查询 | WebService | 业财 | 合同信息 |
| 3 | 收款单-推送 | WebService | 收款记录 | 收款单 |
| 4 | 付款单-更新 | WebService | 付款记录 | 付款单 |
| 5 | 签约对象-同步 | WebService | 签约对象 | 客商基本信息 |
| 6 | 签约对象银行账户-同步 | WebService | 签约对象银行账户 | 客商银行账户 |

</div>



import Section from '@site/src/components/Section';

<Section background="#215ca0" padding="50">
<div style={{color:"#FFFFFF"}}>

# 对于我们的快速开发工具有疑问？？
# 扫描以下二维码，我们的技术专家会为您解答。

我们的技术专家拥有十年以上的管理软件开发经验，无论您询问有关华炎魔方开发平台的功能、定价、实施或任何其他方面的问题，他们都将随时准备为您提供帮助。

![在线咨询](/assets/contact_by_weixin.png)

</div>
</Section>