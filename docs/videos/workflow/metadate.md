---
title: 什么是元数据？低代码平台中的元数据深度解析
sidebar_label: 什么是元数据？
hide_table_of_contents: true
hide_title: true
background: /img/banner/service-overview-lg.png
---

## 什么是元数据？低代码平台中的元数据深度解析

import Video from '@site/src/components/Video';

<Video 
    poster="https://vod.steedos.com/image/cover/273D6FB669D94148889E5FE7A26A3D13-6-2.png"
    autoplay={true}
    urls={[
        {name:"高清", url:"https://vod.steedos.com/video/40072181-177297095c2-0000-0000-009-c59e0.mp4"},
        {name:"标清", url:"https://vod.steedos.com/e0806fe35af74dccbec6d3a471ce686c/2b4088549d9c43408e9c3e2d3abbd333-6026bf2e9f9751565b0d211fea93967b-ld.mp4.mp4"},
    ]}/>




大家好，现在低代码平台非常热门，低代码平台提出了“点击鼠标，就能编程”的伟大目标。

![点击鼠标，就能编程](/assets/videos_images/click_programme.png)

那如何能实现这个伟大目标呢？关键就是元数据。元数据是低代码开发平台的核心。低代码开发平台使用元数据定义对象，字段，配置，代码，逻辑和页面布局，并基于这些元数据自动生成系统的数据结构以及应用程序的用户界面和自动化逻辑。
那为什么使用元数据而不是直接编写代码呢？因为基于元数据开发的应用程序是配置型的，数据模型、界面、业务逻辑等都通过配置的方式实现，因此非常灵活，当你的业务需求发生变化时，不需要找软件公司修改代码，不需要漫长的等待。只需要点击鼠标，修改配置，应用程序就会跟着变化。

![基于元数据](/assets/videos_images/metadate.png)

#### 那我们来看看低代码平台需要支持哪些类型的元数据。

典型的元数据就是数据结构的定义，也就是数据库里的表结构，数据表与表之间的相互关联关系。这里我们是把表叫做对象。数据结构的元数据，主要用于两方面，一方面是数据在数据库里面的存储，另一方面是自动生成前台应用的一些标准操作页面，比如说列表显示，增删改查等等这样的标准操作。

用户在系统中录入一条数据的时候，需要校验录入的数据是否符合系统的要求。这时候就需要引入一种新的元数据叫验证规则。

我们有客户也提到，验证规则可以用来合规管理上。传统的系统是通过代码方式的来定义合规规则或者是管理的一些要求，现在可以通过可视化配置验证规则的方式，给业务人员就能看懂、就能配置，例如，对于差旅管理系统来说，可以在疫情期间禁止选择某些特定的高风险目的地。

通过这样的验证规则的配置，也是可以把我们很多的监管或管理的要求，在系统中明确出来，业务人员也能够自己去配一些这样的验证规则，实现管理方面的个性化需求。

华炎魔方还提供了像工作流规则这样更智能化的自动化工具。我们这里的工作流规则应对的是这种情况，比如说用户在输入一条记录之后，希望不仅仅是往数据库里面插入一条记录，可能还会由此进行一些其他的操作。

我举个例子，可能我创建一条订单记录，我需要通知相应的产品经理，也可能根据我的订货数量可能会去新增自动生成一条出库单，或者再建一些复杂的规则，假设库存不足的话，我不仅是要新建一条出库单，并且可能要发起一个采购单。这样一个规则要求就可以通过工作流规则实现。

华炎魔方还提供了批准过程，这个是偏向于业务流的基本范畴。他的基本思路是，如果我往系统里面录一条数据或者修改一条数据之后，对于这条数据的合法性，或者是否被认可，这件事需要一个批准的过程。我们可以在系统里面通过元数据的方式把批准过程定义出来，就是我定义出来这个过程经过哪些步骤，每个步骤会执行怎样的一些操作，如果是同意了做什么，如果是驳回了，它会进行一些怎样的操作。典型的操作可能包括通知相关的人员，以及去对数据库里的某些记录进行一些变更，这就是一个批准过程。批准过程实际上也是相对动态的，是想实现好多的变化，或者是数据进行一些联动的自动化的操作。
那么基于这样一些业务数据的结构定义，系统也提供像报表、数据权限这样的一些东西。比如说这里的数据权限，它的基本思路是在我们的系统里，你可以基于权限组，对于每一个不管是自定义的对象、自定义的表，或者是系统里面内置的一些表，都可以定义相应的权限来设置，来限制这些人员是否可以看到这条数据，或者说它可以看到什么范围内的数据。

例如举个简单的例子，假设是合同管理，会有大量的合同记录，可能对于不同的人，他会有不同读取数据的权限。普通的人员只能看到自己的合同，而他的部门经理可能是可以看到他本部门的这些合同，对于公司的管理部门才能看到全公司的所有合同。我们这里面就可以通过权限这块的定义来实现。

当然，你还可以编写代码。如果我们的现有的元数据不足以支撑你的一些复杂的业务逻辑，比如说肯定要跟第三方系统进行一些数据的交换，我可能有张单据需要发给财务系统，自动的发起财务相关的一些业务逻辑处理，或者说我需要从财务系统里面读取出我某个单据里面当前最新的财务处理的一个状况，我们就可以通过增加一些代码方式来去跟这些第三方的系统进行一些接口，这些我们就通过传统的写代码来实现。

华炎魔方就是通过这些元数据来描述一个业务系统，包括数据结构，界⾯和业务逻辑。包括我刚才说到的对于数据定义，包括用户界面的定义，说某个表在列表显示的时候，列表页上显示哪些字段，这些字段的宽度或者字段的一些呈现方式等等。也包括我刚才提到了相对动态的一些像验证规则、工作流规则、批准过程的这些元数据的定义，以及加上我们的一些代码。

这些代码就是需要程序员做的一些内容。上面的这些元数据的配置可以是由业务人员来实现，因为我们的配置引擎提供了一套可视化的页面，也就是直接在页面上，你就可以去定义出这样的元数据。

换句话说，就可以定义出相应的表，它的表结构，它的字段，它的表与表之间的关系以及动态的当我增加一条表记录之后，它可能触发一些相应的通知或者是字段更新，也就是往表里面修改内容这样的一些操作，这个我们是提供了一套界面化的一个配置，由业务人员这些相对于编程的门槛要求不高的这部分人员来做的。

![技术架构](/assets/videos_images/technique.png)

元数据加上开发人员或者是程序员做的代码，通过我们的解释引擎，它可以动态的生成一个低代码的企业应用。

我们这里面说动态生成的意思，主要是体现在我可以实时的去修改一些元数据项，当我去实时的修改一些元数据之后，我们的解释引擎会实时的动态去生成修改之后的企业应用页面，或者是它的一些动态处理机制。

所以，配置引擎，实际上就是页面化的配置页面，也就是说我在界面上去定义出这样的数据结构，比如说我有哪些表，比如说我的工作流规则是怎样的，我们有相应的页面去配置。
而解释引擎它的主要目是把元数据解释成为最终系统用户所使用的这样一套界面。

![可视化配置元数据](/assets/videos_images/click.png)

例如我们在华炎魔方后台去设置一个对象，也就是在我们这个系统里面是对于表的一个定义，基于这样表的定义，系统的解释引擎会把它自动的动态生成相应的页面，这块的页面就是用户去使用时候的页面，比如说一个项目的显示页，它会显示出某一个项目的详细信息，以及由这个项目相关联的像里程碑、项目任务、日志、问题、费用等等的一些相关表的一个信息。

在后台的设置里面，可以去通过可视化的页面去配置这样的数据结构的元数据，同时我们也可以在这样的数据相关设置里面去配置，刚才提到像批准过程，或者是工作流规则这样的相对动态的一些机制，而系统会自动的生成相应的前台的页面。我们自动生成它基本的逻辑是说，当我定义出一个对象，我们把它叫做对象，你也可以把它理解为就是类比于一个表。

当定义好这个表的基本的字段，列表视图之后，系统会自动的生成它的增加修改列表显示这样的一些页面，因此这些页面就无需您再去写代码去呈现，这样的话可以极大的减少原先我们做系统的一些工作量，因为我们常规的写系统，做系统做项目的话，一方面是要在数据库里面建项目的数据结构，然后也要在前台去把相应的页面去生成出来。而在我们华炎魔方这样的一个框架里面，这些是通过您配置元数据，然后系统的自动地解释并生成这样一个前台的页面和相应的处理逻辑，包括点击某个按钮之后后台的一些操作。

![开发难度降低到excel级别](/assets/videos_images/formula.png)

在华炎魔方中，用得比较多的还有公式这一块，所以把它叫做公式引擎。
关于公式的应用，一方面是说我们有一种类型的字段是公式字段，当我们去建一个表的时候，有些字段不是由用户自己去录入。而是希望由系统自动生成的。比如说最简单的经典公式，是总价应该等于单价乘以数量。

除了这种数学计算，还有其他一些字段的取值也是希望由系统自动获得。比如说我举个简单的例子，假设是一个项目管理，第一层是项目，第二层是项目的任务。而项目任务里面，有一个字段是项目，另外一个字段是项目经理。选择好项目后，系统能直接取到对应的项目经理、而无需再次录入，因为项目的记录里已经有项目经理了。这样如果项目的项目经理发生了变更，而任务这条记录，其中的项目经理也会随之发生变化。这就是公式字段的一个基本的逻辑。

除了公式字段，公式还会有更多的应用场景。因为公式最终的取值有一种比较特殊的是true，false，像刚才提到的批准过程，验证规则，业务规则，都可以用到公式。
例如，我们这里面的验证规则主要是对要用户输入数据的有效性做一个相应的验证。

我们就可以通过定义相应的公式，定义出不符合有效性的情况。比如说最简单的一个例子是结束日期应该大于开始日期，那我们就定义一条验证规则，说如果结束日期小于开始日期的话，则弹出出错信息。这样，当用户输入记录时，会依据这条验证规则是否为真，来判定是认可这条记录、还是会弹出出错信息。

再比如定义批准过程的时候，我们可以加上这样的一些条件，限定在什么情况下才需要这样的批准过程。例如订单，可能我们需要设定一个限额，比如说超过1000块以上的需要走批准过程，而1000块以下的业务人员就能自己做决定，那么我们就可以在批准过程里面通过公式来定义这样的一个批准过程的条件，也就是
金额大于1000。

我举这个例子实际上是想说一下，通过简单的一些公式，业务人员而不是程序员就能够把相对复杂的，像是批准过程里面的一些细节，自己就能够定义出来。

![运算符和函数公式](/assets/videos_images/function_formula.png)

华炎魔方的公式引擎，内置了很多的运算符和函数，包括像数学的、逻辑的，我们刚才提到求true或false的，或者基于日期、文本的其他一些函数，我们这些函数在官网上都有公示，使用时可具体参考下用法。

![公式示例](/assets/videos_images/example.png)

这里举了几个公式的示例，我想就不重点阐释，可以看到，通过我们的公式可以把相对复杂一点的逻辑与判断定义出来。比如说这里面的公式，就是既判断其中的两个时间一个状态，还有一个是否过期的一个字段，通过逻辑关系来组合判断是否为真。

![验证规则](/assets/videos_images/rule.png)

刚才也提到了验证规则，实际上我们的验证规则是要验证该对象的数据，就是我新建一条数据或者修改一条数据，是否符合特定的规则要求。

![验证规则示例](/assets/videos_images/rule_example.png)

所以我们里面也有相应的示例.可以通过判断这个公式最终的取值是true or false来实现对记录的验证。也像这里面就是根据记录的阶段、金额、提交状态组合出来，认为这样的数据是不合法的，这就是验证规则的基本概念。

![工作流规则](/assets/videos_images/workflow.png)

再来看工作流规则，工作流的规则可以把它理解为 if then这样的主要的逻辑。

![工作流规则示例](/assets/videos_images/example_workflow.png)

这里举了一个简单的例子，当我新建一个业务机会的时候，是有个字段叫默认结束日期，他希望把它改为业务机会创建时间后的6个月。规则条件用到了公式，如果没有close则可以进行自动化的操作，这里是个字段更新的操作。而这个字段更新也是通过公式，把这里面这个公式的取值赋予“closed_date”字段，也就是当前的日期加6个月的这样的一个公式来自动取值，所以简言之。我们的工作流规则偏向的是动态的，是说在满足一定的条件下，让系统去帮你做一些事情，像这里就是说去修改某字段的值。实际的情况会比这个例子复杂很多。

比如说，我发起一个订单之后，需要通知相应的我的经理；同时我发起一个订单，不仅是新建一条订单之后记录，还要同时生成一张出库单；或者，判断出库存不足的情况，需要同时生成一张出库单再加一张请购单。这些自动化的操作就可以通过工作流规则来完成。

![批准过程](/assets/videos_images/process.png)

我们这里面还有一个批准过程的机制。我要录入一条记录，在我们系统里面，如果它的合法性是需要经过一些审批的一个过程，我们就把这个处理过程配置为1条批准过程。

![批准过程示例](/assets/videos_images/example_process.png)

批准过程是分两层的，第一层是说整个批准过程的一些参数，例如指定条件，是指符合这个条件，才让你去走这样的一个批准过程。其他当我进行提交或者是最终批准、最终拒绝之后，系统会自动做哪些事也是在这一层进行定义的。

第二层是定义一些批准的步骤，例如，经过了部门经理、财务经理和总经理审核的几个步骤，每个步骤可以审定根据什么样的条件判断是否要进入这个步骤，这个步骤具体发个谁，也可以在每一步上定义如果批准或者拒绝之后会进行怎样的一些操作。

批准过程，这个基本上可以把它理解为是一种业务流。

以上就是华炎魔方元数据的基本情况，更详细的信息您可以在我们的官网上查询，包括一些说明文档及视频资料。如果还有其他需求，欢迎随时和我们联系，感谢您的观看！

