---
title: 设置批准过程
---

如果批准是适合您业务流程的自动化工具，请遵循以下步骤为您的组织创建新的批准。

![设置批准过程](/assets/help/approval/new.png)

- 在“设置”-“流程自动化”中选择“批准过程”，点击新建。
- 为批准过程输入API名称和显示名称。
- 选择要应用该批准过程的对象。
- 依次输入序号。
- 输入您的指定条目条件：输入评估结果为“真”值的公式。当公式返回“真”值时，会触发该批准过程执行后续设置的操作。
- 设置记录可编辑性属性：
  - **仅管理员可在批准过程中编辑记录：**默认唯一选项。
- 允许提交人取消申请时请勾选按钮。
- 设置批准过程自动操作的锁定记录，以及对应的字段更新，完成后点击保存。
- 新建批准过程成功后，点击显示名称进入详情页，在页面底部向批准过程添加批准步骤。

## 指定条目条件

如果你希望所有记录都通过批准过程，可在指定条目条件中输入1=1。如果只考虑特定记录类型，可输入进入的条件或公式。当提交的记录满足条件或公式，则可进入该批准过程。

### 示例

只有折扣批准截止日期小于 30 天时，该公式才允许记录进入该批准过程。
(Discount_Approval_CutoffDate__c < (CloseDate - 30)

## 指定谁可以编辑锁定的记录

记录提交等待批准时，它将被锁定，以防止用户在批准过程中编辑该记录。只有管理员可以编辑在该批准过程中被锁定的记录。

![锁定记录](/assets/help/approval/锁定记录.png)

### 指定谁可以提交记录到批准过程（即将上线）

只有指定的个人才可以提交记录以待批准。您也可以允许提交者调回批准请求。

## 批准过程的自动操作

当发生操作时，每个批准过程都会组织到操作组中，例如初始提交。若要将自动操作添加到批准过程，确定要将其添加到哪个操作组中。

![自动操作](/assets/help/approval/自动操作.png)

1. **初始提交**
用户第一次提交记录以待批准。默认操作：记录锁(锁定)
2. **批准步骤批准**
已针对记录提供该步骤的所有必要批准。默认操作：无
3. **批准步骤拒绝**
批准人拒绝该步骤的请求。默认操作：无
4. **最终批准**
已针对记录提供所有必要批准。默认操作：记录锁(锁定)
5. **最终拒绝**
批准人拒绝该请求，它转至最终拒绝状态。默认操作：记录锁(解锁)
6. **调回**
调回提交的批准请求。默认操作：记录锁(解锁）

## 向批准过程添加批准步骤

### 控制哪些记录应用于批准步骤

通过设置步骤标准控制哪些记录作为批准步骤的一部分。您还可以指定不符合步骤标准时如何处理记录。

### 标准选项

如果所有记录都通过该批准步骤，选择 所有记录均应进入此步骤。

![所有记录进入此步骤](/assets/help/approval/所有记录进入此步骤.png)

如果仅特定类型的记录应进入此过程，请选择如果满足以下条件，则进入此步骤...，然后输入需满足的条件。

![满足条件进入此步骤](/assets/help/approval/满足条件进入此步骤.png)

如果不满足条件，则：

- 批准记录：批准请求，执行所有最终批准操作。
- 拒绝记录：拒绝请求，执行所有最终拒绝操作。
- 转到下一步：
跳过此步骤并转到下一步。只有当这是以后的步骤时可用。

当您在第一步应用该选项时，谨记：

- 如果记录不符合任何随后步骤的标准，记录会被拒绝。
- 如果您删除以后的所有步骤，华炎魔方会拒绝该记录。
当您在其他步骤中应用该选项时，谨记：
- 如果您删除以后的所有步骤，华炎魔方会结束该过程。

### 为批准步骤识别分配批准人

指定在该步骤中将批准请求发送给谁。

#### 选择分配的批准人

指定将批准分配给谁。

![提交人手动选择批准人](/assets/help/approval/提交人手动选择批准人.png)

- 允许提交人手动选择批准人（默认值)：提示用户选择下一个批准人。

- 自动分配至批准人：
分配批准请求到指定用户、指定审批角色、指定审批岗位、指定相关用户字段处理。

#### 当选择多个批准人时

只有当选中自动分配至批准人时可用。

- 基于首次回复的批准或拒绝：

批准请求的第一个响应决定批准记录还是拒绝记录。

![基于首次回复批准](/assets/help/approval/基于首次回复批准.png)

- 要求所有选定批准人的一致批准：

只有在每个人都选择批准时记录才被批准。如果任何批准人拒绝请求，批准请求都会被拒绝。

![一致批准](/assets/help/approval/一致批准.png)

- 重新分配的批准人也可批准该请求：

批准人重新分配的批准人不能再次分配批准请求；他们只能批准或拒绝它们。

### 为批准步骤指定拒绝行为

配置批准人拒绝请求后的结果。

- 执行所有拒绝操作：即使已经批准之前的步骤，仍然能拒绝请求。执行此步骤中指定的所有拒绝操作以及所有最终拒绝操作。

![最终拒绝](/assets/help/approval/最终拒绝.png)

- 仅执行此步骤的拒绝操作：拒绝请求，将批准请求返回前一个批准人。执行为此步骤指定的所有拒绝操作。

![返回一步](/assets/help/approval/返回一步.png)

### 选择整个批准过程的自动批准人

通过以下选项之一设置下个批准人。

- 提交人手动指定用户来批准所有批准请求。

自动分配至批准人：

![指定批准人](/assets/help/approval/指定批准人.png)

- 指定用户处理
- 指定审批角色
- 指定审批岗位
- 指定相关用户字段

## 启用批准过程

在为批准过程创建至少一个步骤后，启用该过程。

![启用](/assets/help/approval/启用.png)

1. 进入批准流程，选择需启用的批准过程。
2. 确保配置正确。
3. 点击最右边的倒三角框，选择启用。
