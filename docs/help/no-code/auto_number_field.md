---
title: 自动编号字段类型
---

自动编号，是一种特殊的数据规范，表单或报表中经常需要使用序列号，比如合同编号，报价单号，可以通过公式由系统直接得到编号，当需要定义一个规则来自动生成所需的序列号时，我们称之为自动编号。

#### 自动编号公式

要自动编号需要我们引用相关公式，公式一般有两种，一种是日期编号，第二种是序号编号。
- 日期：
{YYYY}表示当年四位年（如2020），{YY}表示当年两位年（如20）
{MM}表示当月
{DD}表示当日
- 序号：
{0000}表示4位序号,{00}表示2位序号等，不足前面会补0，每增加一个编号数值递增1，默认起始编号为1，比如使用公式{0000}时，第一个编号为0001，第二个为0002。

可以单独显示日期或序号编号，也可以结合起来运用，方便后期查找。例如我们可以新建一个合同编号字段，在字段类型选择框选择自动编号，在公式一栏输入{YYYY}-{0000}, 当新建一个合同时，会自动生成如2021-0001这样的编号。

![合同编号](/assets/no-code/contract_number.png)

也可以加入其他的字符串，例如“SN{YYYY}{MM}{DD}{000}” 或是“采购合同[{YYYY}]{000}号”。结果会显示为类似“采购合同2021-0001”这样的数据。

#### 关于起始编号

默认起始编号为1，想要变更起始编号时需要新建一个”自动编号对象”，设置方式请参考 （链接：关于自动编号）

#### 日期生效范围

使用{YYYY}等日期公式时，可以设置其生效范围，当无效时公式返回空字符串，设置方法请参考

#### 关于自动编号对象

需要变更起始编号或设置日期公式生效范围时需要新建一个”自动编号对象“来配置相关属性，点开设置-高级设置-自动编号-新建，如下图所示。输入需要自动编号的对象名以及字段名，对象名以及字段名都是对应的API名称，而不是文本。当前编号值为0，表示新建一条记录时，编号从1开始记录。如果输入的是100，表示从101开始记录，再填写好有效日期的范围。而且当前编号值会随着新增记录的增加而改变，比如已经有10条记录了，当前编号值会显示为10。

![新建自动编号对象](/assets/no-code/autonumber_object.png)

#### 变更编号规则

需要变更编号规则时如果修改了自动编号公式，历史数据中已经有的记录不会重新编号。
