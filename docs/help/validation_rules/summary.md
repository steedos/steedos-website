---
title: 通过验证规则校验字段值
sidebar_label: 概述
---

## 什么是验证规则?

在华炎魔方中，用户可以为每一个对象创建验证规则。验证规则主要用于验证该对象的数据是否符合特定的规则。当用户对于对象的某个字段的更改不符合用户创建的验证规则时，华炎魔方会拒绝保存用户的输入。

比如：用户可以创建验证规则，使得每一个“业务机会”的“金额”数值必须大于1000，否则拒绝保存。验证规则适用于对象被添加或更改的所有场景。最常见的情况是用户在“编辑”界面点击“保存”按钮时进行验证。

验证规则可以包含公式或表达式，它们会计算一个或多个字段中的数据，然后返回“真”或“假”值。验证规则还包含当规则返回“真”值时要显示给用户的错误消息，以红色文本显示。

## 管理验证规则

使用验证规则提高数据质量。在某个对象管理详细页的对象验证规则子表栏，您可以：

- 创建验证规则
- 单击规则名称旁边的编辑来修改验证规则
- 单击规则名称旁边的删除来删除验证规则
- 单击验证规则名称以查看更多详细信息

## 创建验证规则

![创建验证规则](/assets/help/validation_rules/创建验证规则.png)

- 在“设置”应用中点击“对象设置”-“对象”并点击某条详细记录，在对象详细信息页面找到对象验证规则子表，单击新建。
- 为验证规则输入规则名，该名称作为API名称是唯一标识符，只能包含小写字母、数字，必须以字母开头，不能以下划线字符结尾或包含两个连续的下划线字符。
- 如果想立即启用请勾选上已启用。
- 可以为验证规则输入说明。
- 设置错误条件公式，用于验证字段的表达式，请参阅[通过公式计算字段值](/help/formula/summary#通过公式计算字段值)
- 设置错误消息，当字段的错误条件公式成立时向用户显示的消息。
- 选择错误位置，确定错误消息显示在页面上的位置。[暂不支持，目前是统一显示在右上角。]
- 设置完成后点击保存。

## 使用验证规则

- 要使用验证规则，请先确保验证规则已经启用。
- 可以通过创建记录或编辑现有记录来测试验证规则效果。
- 当单击保存时将执行验证规则：
  - ** 如果所有数据有效，将保存此记录。*
  - ** 如果任一数据无效，将显示关联的错误消息，不保存该记录。*
- 如果验证不通过，用户可进行必要的更改后，再次单击保存，直到所有验证规则都通过才能成功保存记录。

## 启用验证规则

- 在“设置”应用中点击“对象设置”-“对象”并点击某条详细记录，在对象详细信息页面找到对象验证规则子表。
- 单击要启用的某条规则旁边的编辑按钮。
- 要启用规则，请勾选启用按钮并保存更改。
- 要禁用规则，请取消勾选启用按钮并保存更改。
- 验证规则只有启用后才会生效。
